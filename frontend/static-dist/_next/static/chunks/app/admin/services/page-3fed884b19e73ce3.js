(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7838],{56422:function(e,t,s){Promise.resolve().then(s.bind(s,14444))},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},99397:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},15868:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},70525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},14444:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(57437),a=s(2265),l=s(71905),i=s(90486),n=s(99397),c=s(98728),d=s(70525),o=s(95805),x=s(95252),u=s(73247),m=s(15868),h=s(18930),g=s(32489);function p(){let[e,t]=(0,a.useState)([]),[s,p]=(0,a.useState)(!0),[f,b]=(0,a.useState)(""),[j,v]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),[w,S]=(0,a.useState)({total:0,active:0,inactive:0,recentlyAdded:0}),[C,k]=(0,a.useState)({title:"",description:"",features:[""],icon:"",status:"ACTIVE"});(0,a.useEffect)(()=>{Z()},[]);let Z=async()=>{try{p(!0);let e=await i.x.getServices();if(e.success){t(e.data||[]);let s=e.data||[],r=s.filter(e=>"ACTIVE"===e.status).length,a=s.filter(e=>"INACTIVE"===e.status).length,l=s.filter(e=>{let t=new Date(e.createdAt),s=new Date;return s.setDate(s.getDate()-7),t>s}).length;S({total:s.length,active:r,inactive:a,recentlyAdded:l})}}catch(e){console.error("Failed to fetch services:",e)}finally{p(!1)}},A=async e=>{e.preventDefault();try{let e={...C,features:C.features.filter(e=>""!==e.trim())};y?(await i.x.updateService(y.id,e)).success&&(Z(),D()):(await i.x.createService(e)).success&&(Z(),D())}catch(e){console.error("Failed to save service:",e)}},E=e=>{N(e),k({title:e.title,description:e.description,features:e.features.length>0?e.features:[""],icon:e.icon||"",status:e.status}),v(!0)},I=async e=>{if(window.confirm("Are you sure you want to delete this service?"))try{(await i.x.deleteService(e)).success&&Z()}catch(e){console.error("Failed to delete service:",e)}},D=()=>{v(!1),N(null),k({title:"",description:"",features:[""],icon:"",status:"ACTIVE"})},T=(e,t)=>{k(s=>({...s,features:s.features.map((s,r)=>r===e?t:s)}))},M=e=>{k(t=>({...t,features:t.features.filter((t,s)=>s!==e)}))},z=e.filter(e=>e.title.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase()));return(0,r.jsx)(l.Z,{title:"Service Management",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Service Management"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your engineering and construction services"})]}),(0,r.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,r.jsx)(n.Z,{size:20}),"Add Service"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 rounded-xl text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-blue-100 text-sm",children:"Total Services"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:w.total})]}),(0,r.jsx)(c.Z,{className:"h-12 w-12 text-blue-200"})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 rounded-xl text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-100 text-sm",children:"Active Services"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:w.active})]}),(0,r.jsx)(d.Z,{className:"h-12 w-12 text-green-200"})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-6 rounded-xl text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-orange-100 text-sm",children:"Inactive Services"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:w.inactive})]}),(0,r.jsx)(o.Z,{className:"h-12 w-12 text-orange-200"})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-6 rounded-xl text-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-purple-100 text-sm",children:"Recently Added"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:w.recentlyAdded})]}),(0,r.jsx)(x.Z,{className:"h-12 w-12 text-purple-200"})]})})]}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Search services...",value:f,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Service"}),(0,r.jsx)("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Features"}),(0,r.jsx)("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Status"}),(0,r.jsx)("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Created"}),(0,r.jsx)("th",{className:"text-right py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:s?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading services..."})]})})}):0===z.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"No services found"})}):z.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:e.description})]})})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.features.length," features"]})}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("ACTIVE"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,r.jsx)("td",{className:"py-4 px-6 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsx)("td",{className:"py-4 px-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>E(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit service",children:(0,r.jsx)(m.Z,{size:16})}),(0,r.jsx)("button",{onClick:()=>I(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete service",children:(0,r.jsx)(h.Z,{size:16})})]})})]},e.id))})]})})}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:y?"Edit Service":"Create New Service"}),(0,r.jsx)("button",{onClick:D,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(g.Z,{size:24})})]})}),(0,r.jsxs)("form",{onSubmit:A,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Title *"}),(0,r.jsx)("input",{type:"text",value:C.title,onChange:e=>k(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,r.jsx)("textarea",{value:C.description,onChange:e=>k(t=>({...t,description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features *"}),C.features.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>T(t,e.target.value),placeholder:"Enter a feature",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),C.features.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>M(t),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,r.jsx)(h.Z,{size:16})})]},t)),(0,r.jsx)("button",{type:"button",onClick:()=>{k(e=>({...e,features:[...e.features,""]}))},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add Feature"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon (Optional)"}),(0,r.jsx)("input",{type:"text",value:C.icon,onChange:e=>k(t=>({...t,icon:e.target.value})),placeholder:"e.g., ruler, building, calculator",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),(0,r.jsxs)("select",{value:C.status,onChange:e=>k(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,r.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:D,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:y?"Update Service":"Create Service"})]})]})]})})]})})}}},function(e){e.O(0,[5676,2972,5878,9279,9847,1905,2971,2117,1744],function(){return e(e.s=56422)}),_N_E=e.O()}]);